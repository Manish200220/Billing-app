{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mk213\\\\Downloads\\\\billing-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Invoice from \"./Invoice\";\n\n// Billing App â€” fixed full JSX and working Invoice History viewer\n// Features included:\n// - Products with category, price and stock\n// - Add / Purchase / Delete product\n// - Create invoice from cart, finalize (autosave + auto-download JSON + auto-generate PDF)\n// - Invoices are stored in localStorage\n// - Invoice history with one-click View (modal) and per-invoice JSON/PDF download\n// - Small pure-function tests and a \"Run tests\" button\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BillingApp() {\n  _s();\n  const COMPANY_NAME = \"RKGROWOPAL MARKETINGS PVT. LTD.\";\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [formProd, setFormProd] = useState({\n    name: \"\",\n    category: \"\",\n    mrp: \"\",\n    bv: \"\",\n    stock: \"\"\n  });\n  const [cart, setCart] = useState([]);\n  const [customer, setCustomer] = useState({\n    name: \"\",\n    address: \"\",\n    phone: \"\"\n  });\n  const [paid, setPaid] = useState(0);\n  const [invoiceDate, setInvoiceDate] = useState(new Date().toISOString().split('T')[0]);\n  const [useMRP, setUseMRP] = useState(false);\n  const [isFinalizing, setIsFinalizing] = useState(false);\n  const invoiceRef = useRef(null);\n  const [invoices, setInvoices] = useState([]);\n  const [selectedInvoice, setSelectedInvoice] = useState(null);\n  const selectedInvoiceRef = useRef(null); // for PDF generation of selected invoice\n\n  const [filterCategory, setFilterCategory] = useState(\"\");\n  const [testResults, setTestResults] = useState([]);\n  const [isExportingBulk, setIsExportingBulk] = useState(false);\n  const COMPANY_EMAIL = \"info@yourcompany.com\";\n  const COMPANY_PHONE = \"+91 74287 11520\";\n  const COMPANY_ADDRESS = \"Block-B3,Near Punjab National Bank Road Mukund Vihar,Prakash Vihar,karawal Nagar,Delhi-11009, New Delhi, Delhi 110090\";\n\n  // Load persisted state\n  useEffect(() => {\n    try {\n      const p = JSON.parse(localStorage.getItem('rk_products') || '[]');\n      const inv = JSON.parse(localStorage.getItem('rk_invoices') || '[]');\n      setProducts(p);\n      setInvoices(inv);\n      const cats = Array.from(new Set(p.map(x => x.category).filter(Boolean)));\n      setCategories(cats);\n    } catch (e) {\n      console.error('load error', e);\n    }\n  }, []);\n  useEffect(() => {\n    try {\n      localStorage.setItem('rk_products', JSON.stringify(products));\n    } catch (e) {\n      console.error(e);\n    }\n    const cats = Array.from(new Set(products.map(x => x.category).filter(Boolean)));\n    setCategories(cats);\n  }, [products]);\n  useEffect(() => {\n    try {\n      localStorage.setItem('rk_invoices', JSON.stringify(invoices));\n    } catch (e) {\n      console.error(e);\n    }\n  }, [invoices]);\n\n  // Product management\n  function addProduct(e) {\n    if (e && e.preventDefault) e.preventDefault();\n    const name = (formProd.name || \"\").trim();\n    const category = (formProd.category || \"\").trim();\n    const mrp = Number(formProd.mrp);\n    const bv = Number(formProd.bv) || 0;\n    const stock = parseInt(formProd.stock) || 0;\n    if (!name) return alert('Enter product name');\n    if (!Number.isFinite(mrp) || mrp < 0) return alert('Enter valid MRP');\n    const id = products.length ? Math.max(...products.map(p => p.id)) + 1 : 1;\n    const price = Math.round(mrp * 0.9 * 100) / 100; // DP = 10% discount on MRP\n    const next = [...products, {\n      id,\n      name,\n      category,\n      mrp,\n      bv,\n      price,\n      stock\n    }];\n    setProducts(next);\n    setFormProd({\n      name: \"\",\n      category: \"\",\n      mrp: \"\",\n      bv: \"\",\n      stock: \"\"\n    });\n  }\n  function updateStock(id, delta) {\n    setProducts(prev => prev.map(p => p.id === id ? {\n      ...p,\n      stock: Math.max(0, p.stock + delta)\n    } : p));\n  }\n  function deleteProduct(id) {\n    if (!confirm('Delete product?')) return;\n    setProducts(prev => prev.filter(p => p.id !== id));\n    setCart(prev => prev.filter(c => c.productId !== id));\n  }\n\n  // Cart management\n  function addToCart(productId) {\n    const p = products.find(x => x.id === productId);\n    if (!p) return alert('Product not found');\n    if (p.stock <= 0) return alert('Out of stock');\n    updateStock(productId, -1);\n    setCart(prev => {\n      var _p$mrp;\n      const found = prev.find(x => x.productId === productId);\n      if (found) return prev.map(x => x.productId === productId ? {\n        ...x,\n        qty: x.qty + 1\n      } : x);\n      const mrp = Number((_p$mrp = p.mrp) !== null && _p$mrp !== void 0 ? _p$mrp : p.price ? Number(p.price) / 0.9 : 0);\n      return [...prev, {\n        productId,\n        name: p.name,\n        category: p.category,\n        price: p.price,\n        mrp,\n        bv: p.bv || 0,\n        qty: 1\n      }];\n    });\n  }\n  function changeQty(productId, qty) {\n    qty = Math.max(0, parseInt(qty) || 0);\n    const item = cart.find(c => c.productId === productId);\n    if (!item) return;\n    const delta = qty - item.qty;\n    if (delta > 0) {\n      const prod = products.find(p => p.id === productId);\n      if (!prod || prod.stock < delta) return alert('Not enough stock');\n      updateStock(productId, -delta);\n    } else if (delta < 0) {\n      updateStock(productId, -delta);\n    }\n    setCart(prev => prev.map(c => c.productId === productId ? {\n      ...c,\n      qty\n    } : c));\n  }\n  function removeFromCart(productId) {\n    const item = cart.find(c => c.productId === productId);\n    if (!item) return;\n    updateStock(productId, item.qty);\n    setCart(prev => prev.filter(c => c.productId !== productId));\n  }\n  function subtotal(c = cart) {\n    return c.reduce((s, i) => s + i.qty * (useMRP ? i.mrp : i.price), 0);\n  }\n\n  // Finalize invoice\n  async function finalizeInvoice(autoDownload = true) {\n    if (isFinalizing) return; // Prevent multiple submissions\n    if (cart.length === 0) return alert('Cart is empty');\n    setIsFinalizing(true);\n    const invNumber = 'INV-' + new Date().getTime().toString().slice(-8);\n    const invoice = {\n      id: invNumber,\n      date: new Date(invoiceDate).toISOString(),\n      customer: {\n        ...customer\n      },\n      items: cart.map(c => ({\n        productId: c.productId,\n        name: c.name,\n        qty: c.qty,\n        price: c.price\n      })),\n      subtotal: subtotal(),\n      paid: Number(paid || 0),\n      balance: subtotal() - Number(paid || 0)\n    };\n    setInvoices(prev => [invoice, ...prev]);\n\n    // Auto-download JSON\n    try {\n      if (autoDownload) {\n        const blob = new Blob([JSON.stringify(invoice, null, 2)], {\n          type: 'application/json'\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${invoice.id}.json`;\n        document.body.appendChild(a);\n        a.click();\n        a.remove();\n        URL.revokeObjectURL(url);\n      }\n    } catch (e) {\n      console.error('JSON download failed', e);\n    }\n\n    // Generate PDF of invoice preview area (invoiceRef)\n    try {\n      if (invoiceRef.current) {\n        const html2canvasModule = await import('html2canvas');\n        const html2canvas = html2canvasModule && (html2canvasModule.default || html2canvasModule);\n        const jspdfModule = await import('jspdf');\n        const jsPDF = jspdfModule && (jspdfModule.jsPDF || jspdfModule.default || jspdfModule);\n        if (html2canvas && jsPDF) {\n          const canvas = await html2canvas(invoiceRef.current, {\n            scale: 2\n          });\n          const imgData = canvas.toDataURL('image/png');\n          const pdf = new jsPDF({\n            unit: 'pt',\n            format: 'a4'\n          });\n          const imgProps = pdf.getImageProperties(imgData);\n          const pageWidth = pdf.internal.pageSize.getWidth();\n          const pageHeight = pdf.internal.pageSize.getHeight();\n          const scale = Math.min(pageWidth / imgProps.width, pageHeight / imgProps.height);\n          const renderWidth = imgProps.width * scale;\n          const renderHeight = imgProps.height * scale;\n          const x = (pageWidth - renderWidth) / 2;\n          const y = (pageHeight - renderHeight) / 2;\n          pdf.addImage(imgData, 'PNG', x, y, renderWidth, renderHeight);\n          pdf.save(`${invoice.id}.pdf`);\n        }\n      }\n    } catch (err) {\n      console.error('PDF generation error', err);\n    }\n\n    // Clear current cart and customer\n    setCart([]);\n    setCustomer({\n      name: '',\n      address: '',\n      phone: ''\n    });\n    setPaid(0);\n    setInvoiceDate(new Date().toISOString().split('T')[0]);\n    setIsFinalizing(false);\n    alert('Invoice finalized and saved.');\n  }\n  function exportBackup() {\n    try {\n      const blobP = new Blob([JSON.stringify(products, null, 2)], {\n        type: 'application/json'\n      });\n      const urlP = URL.createObjectURL(blobP);\n      const a = document.createElement('a');\n      a.href = urlP;\n      a.download = `products_${Date.now()}.json`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(urlP);\n      const blobI = new Blob([JSON.stringify(invoices, null, 2)], {\n        type: 'application/json'\n      });\n      const urlI = URL.createObjectURL(blobI);\n      const b = document.createElement('a');\n      b.href = urlI;\n      b.download = `invoices_${Date.now()}.json`;\n      document.body.appendChild(b);\n      b.click();\n      b.remove();\n      URL.revokeObjectURL(urlI);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  // Calculate summary statistics\n  function getInvoiceSummary() {\n    const totalBalance = invoices.reduce((sum, inv) => sum + (inv.balance || 0), 0);\n    const totalProductsSold = invoices.reduce((sum, inv) => {\n      var _inv$items;\n      return sum + (((_inv$items = inv.items) === null || _inv$items === void 0 ? void 0 : _inv$items.reduce((itemSum, item) => itemSum + item.qty, 0)) || 0);\n    }, 0);\n    const totalInvoices = invoices.length;\n    return {\n      totalBalance,\n      totalProductsSold,\n      totalInvoices\n    };\n  }\n\n  // Bulk PDF export function\n  async function exportAllInvoicesPDF() {\n    if (invoices.length === 0) return alert('No invoices to export');\n    if (isExportingBulk) return;\n    setIsExportingBulk(true);\n    try {\n      const JSZip = (await import('jszip')).default;\n      const zip = new JSZip();\n      for (let i = 0; i < invoices.length; i++) {\n        const invoice = invoices[i];\n        // Create a temporary div for PDF generation\n        const tempDiv = document.createElement('div');\n        tempDiv.style.position = 'absolute';\n        tempDiv.style.left = '-9999px';\n        tempDiv.style.top = '-9999px';\n        document.body.appendChild(tempDiv);\n\n        // Render invoice in temp div\n        const {\n          createElement\n        } = await import('react');\n        const {\n          createRoot\n        } = await import('react-dom/client');\n        const InvoiceComponent = (await import('./Invoice')).default;\n        const root = createRoot(tempDiv);\n        root.render(createElement(InvoiceComponent, {\n          invoice: invoice,\n          companyName: COMPANY_NAME,\n          companyEmail: COMPANY_EMAIL,\n          companyPhone: COMPANY_PHONE,\n          companyAddress: COMPANY_ADDRESS\n        }));\n\n        // Wait for render\n        await new Promise(resolve => setTimeout(resolve, 100));\n\n        // Generate PDF\n        const html2canvasModule = await import('html2canvas');\n        const html2canvas = html2canvasModule && (html2canvasModule.default || html2canvasModule);\n        const jspdfModule = await import('jspdf');\n        const jsPDF = jspdfModule && (jspdfModule.jsPDF || jspdfModule.default || jspdfModule);\n        if (html2canvas && jsPDF) {\n          const canvas = await html2canvas(tempDiv, {\n            scale: 2\n          });\n          const imgData = canvas.toDataURL('image/png');\n          const pdf = new jsPDF({\n            unit: 'pt',\n            format: 'a4'\n          });\n          const imgProps = pdf.getImageProperties(imgData);\n          const pageWidth = pdf.internal.pageSize.getWidth();\n          const pageHeight = pdf.internal.pageSize.getHeight();\n          const scale = Math.min(pageWidth / imgProps.width, pageHeight / imgProps.height);\n          const renderWidth = imgProps.width * scale;\n          const renderHeight = imgProps.height * scale;\n          const x = (pageWidth - renderWidth) / 2;\n          const y = (pageHeight - renderHeight) / 2;\n          pdf.addImage(imgData, 'PNG', x, y, renderWidth, renderHeight);\n\n          // Add PDF to zip\n          const pdfBlob = pdf.output('blob');\n          zip.file(`${invoice.id}.pdf`, pdfBlob);\n        }\n\n        // Cleanup\n        root.unmount();\n        document.body.removeChild(tempDiv);\n      }\n\n      // Generate and download zip\n      const zipBlob = await zip.generateAsync({\n        type: 'blob'\n      });\n      const url = URL.createObjectURL(zipBlob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `all_invoices_${Date.now()}.zip`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n      alert('All invoices exported as ZIP file!');\n    } catch (err) {\n      console.error('Bulk export error:', err);\n      alert('Error exporting invoices. Please try again.');\n    } finally {\n      setIsExportingBulk(false);\n    }\n  }\n\n  // View invoice (single-click)\n  function viewInvoice(inv) {\n    setSelectedInvoice(inv);\n    // wait for modal to render then we can generate PDF if user requests\n  }\n  function closeInvoiceViewer() {\n    setSelectedInvoice(null);\n  }\n  async function downloadInvoiceJSON(inv) {\n    try {\n      const blob = new Blob([JSON.stringify(inv, null, 2)], {\n        type: 'application/json'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${inv.id}.json`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  async function downloadInvoicePDF(inv) {\n    // Render selected invoice details inside a hidden ref (selectedInvoiceRef) and generate PDF\n    if (!selectedInvoiceRef.current) {\n      // If the viewer isn't open, open it first and then the user can click download inside the viewer.\n      alert('Please open the invoice viewer and then click \"Download PDF\" inside it.');\n      return;\n    }\n    try {\n      const html2canvasModule = await import('html2canvas');\n      const html2canvas = html2canvasModule && (html2canvasModule.default || html2canvasModule);\n      const jspdfModule = await import('jspdf');\n      const jsPDF = jspdfModule && (jspdfModule.jsPDF || jspdfModule.default || jspdfModule);\n      if (html2canvas && jsPDF) {\n        const canvas = await html2canvas(selectedInvoiceRef.current, {\n          scale: 2\n        });\n        const imgData = canvas.toDataURL('image/png');\n        const pdf = new jsPDF({\n          unit: 'pt',\n          format: 'a4'\n        });\n        const imgProps = pdf.getImageProperties(imgData);\n        const pageWidth = pdf.internal.pageSize.getWidth();\n        const pageHeight = pdf.internal.pageSize.getHeight();\n        const scale = Math.min(pageWidth / imgProps.width, pageHeight / imgProps.height);\n        const renderWidth = imgProps.width * scale;\n        const renderHeight = imgProps.height * scale;\n        const x = (pageWidth - renderWidth) / 2;\n        const y = (pageHeight - renderHeight) / 2;\n        pdf.addImage(imgData, 'PNG', x, y, renderWidth, renderHeight);\n        pdf.save(`${inv.id}.pdf`);\n      }\n    } catch (err) {\n      console.error('PDF generation error', err);\n    }\n  }\n\n  // --- Pure helper functions for tests ---\n  function pureAddToCart(productsArr, cartArr, productId) {\n    const p = productsArr.find(x => x.id === productId);\n    if (!p) throw new Error('product-not-found');\n    if (p.stock <= 0) throw new Error('out-of-stock');\n    const newProducts = productsArr.map(x => x.id === productId ? {\n      ...x,\n      stock: x.stock - 1\n    } : x);\n    const found = cartArr.find(c => c.productId === productId);\n    const newCart = found ? cartArr.map(c => c.productId === productId ? {\n      ...c,\n      qty: c.qty + 1\n    } : c) : [...cartArr, {\n      productId,\n      name: p.name,\n      price: p.price,\n      qty: 1\n    }];\n    return {\n      products: newProducts,\n      cart: newCart\n    };\n  }\n  function pureChangeQty(productsArr, cartArr, productId, qty) {\n    qty = Math.max(0, parseInt(qty) || 0);\n    const item = cartArr.find(c => c.productId === productId);\n    if (!item) throw new Error('item-not-in-cart');\n    const delta = qty - item.qty;\n    if (delta > 0) {\n      const prod = productsArr.find(p => p.id === productId);\n      if (!prod || prod.stock < delta) throw new Error('not-enough-stock');\n      const newProducts = productsArr.map(p => p.id === productId ? {\n        ...p,\n        stock: p.stock - delta\n      } : p);\n      const newCart = cartArr.map(c => c.productId === productId ? {\n        ...c,\n        qty\n      } : c);\n      return {\n        products: newProducts,\n        cart: newCart\n      };\n    } else if (delta < 0) {\n      const newProducts = productsArr.map(p => p.id === productId ? {\n        ...p,\n        stock: p.stock + -delta\n      } : p);\n      const newCart = cartArr.map(c => c.productId === productId ? {\n        ...c,\n        qty\n      } : c);\n      return {\n        products: newProducts,\n        cart: newCart\n      };\n    }\n    return {\n      products: productsArr,\n      cart: cartArr\n    };\n  }\n  function runTests() {\n    const results = [];\n    try {\n      const p0 = [{\n        id: 1,\n        name: 'X',\n        price: 100,\n        stock: 2\n      }];\n      const c0 = [];\n      const step1 = pureAddToCart(p0, c0, 1);\n      results.push({\n        test: 'add once',\n        pass: step1.products[0].stock === 1 && step1.cart.length === 1 && step1.cart[0].qty === 1\n      });\n      const step2 = pureAddToCart(step1.products, step1.cart, 1);\n      results.push({\n        test: 'add twice',\n        pass: step2.products[0].stock === 0 && step2.cart[0].qty === 2\n      });\n      try {\n        pureAddToCart(step2.products, step2.cart, 1);\n        results.push({\n          test: 'add third time should fail',\n          pass: false\n        });\n      } catch (err) {\n        results.push({\n          test: 'add third time should fail',\n          pass: err.message === 'out-of-stock'\n        });\n      }\n      const step3 = pureChangeQty(step2.products, step2.cart, 1, 1);\n      results.push({\n        test: 'change qty down',\n        pass: step3.products[0].stock === 1 && step3.cart[0].qty === 1\n      });\n      const step4 = pureChangeQty(step3.products, step3.cart, 1, 2);\n      results.push({\n        test: 'change qty up',\n        pass: step4.products[0].stock === 0 && step4.cart[0].qty === 2\n      });\n    } catch (err) {\n      results.push({\n        test: 'unexpected error',\n        pass: false,\n        error: String(err)\n      });\n    }\n    setTestResults(results);\n  }\n\n  // --- Render UI ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: styles.company,\n          children: COMPANY_NAME\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.subtitle,\n          children: \"Billing \\xB7 Inventory \\xB7 Categories \\xB7 Auto-PDF \\xB7 Auto-Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'right'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.btnPrimary,\n          onClick: () => exportBackup(),\n          children: \"Export Backup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            ...styles.btn,\n            marginLeft: 8\n          },\n          onClick: () => runTests(),\n          children: \"Run tests\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: styles.grid,\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.card,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: addProduct,\n          style: {\n            display: 'grid',\n            gap: 8,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Name\",\n            value: formProd.name,\n            onChange: e => setFormProd(s => ({\n              ...s,\n              name: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Category\",\n            value: formProd.category,\n            onChange: e => setFormProd(s => ({\n              ...s,\n              category: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"MRP\",\n            value: formProd.mrp,\n            onChange: e => setFormProd(s => ({\n              ...s,\n              mrp: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"BV\",\n            value: formProd.bv,\n            onChange: e => setFormProd(s => ({\n              ...s,\n              bv: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Stock\",\n            value: formProd.stock,\n            onChange: e => setFormProd(s => ({\n              ...s,\n              stock: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              style: styles.btnAdd,\n              children: \"Add Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              style: styles.btn,\n              onClick: () => setProducts([]),\n              children: \"Clear All Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            margin: '12px 0'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            marginBottom: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterCategory,\n            onChange: e => setFilterCategory(e.target.value),\n            style: styles.inputSmall,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c,\n              children: c\n            }, c, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 36\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Search\",\n            style: {\n              ...styles.inputSmall,\n              flex: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: 320,\n            overflow: 'auto'\n          },\n          children: [products.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.muted,\n            children: \"No products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 39\n          }, this), products.filter(p => !filterCategory || p.category === filterCategory).map(p => {\n            var _p$mrp2, _p$price, _p$bv;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.itemRow,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: 700\n                  },\n                  children: p.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.small,\n                  children: [p.category, \" \\xB7 MRP: \\u20B9\", Number((_p$mrp2 = p.mrp) !== null && _p$mrp2 !== void 0 ? _p$mrp2 : p.price ? Number(p.price) / 0.9 : 0).toFixed(2), \" \\xB7 DP: \\u20B9\", Number((_p$price = p.price) !== null && _p$price !== void 0 ? _p$price : 0).toFixed(2), \" \\xB7 BV: \", Number((_p$bv = p.bv) !== null && _p$bv !== void 0 ? _p$bv : 0), \" \\xB7 Stock: \", p.stock]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  style: styles.btnPrimarySmall,\n                  onClick: () => addToCart(p.id),\n                  children: \"Add to Invoice\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: styles.btnSmall,\n                  onClick: () => {\n                    const q = parseInt(prompt('Purchase qty', '1') || '0');\n                    if (q > 0) updateStock(p.id, q);\n                  },\n                  children: \"Purchase+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: styles.btnWarn,\n                  onClick: () => deleteProduct(p.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 15\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: {\n          ...styles.card,\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Create Invoice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Customer name\",\n            value: customer.name,\n            onChange: e => setCustomer(s => ({\n              ...s,\n              name: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Customer phone\",\n            value: customer.phone,\n            onChange: e => setCustomer(s => ({\n              ...s,\n              phone: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Customer address\",\n            value: customer.address,\n            onChange: e => setCustomer(s => ({\n              ...s,\n              address: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: invoiceDate,\n            onChange: e => setInvoiceDate(e.target.value),\n            style: {\n              ...styles.input,\n              width: '200px',\n              flex: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...styles.input,\n              display: 'flex',\n              alignItems: 'center',\n              color: '#666',\n              flex: 1,\n              justifyContent: 'center'\n            },\n            children: \"Invoice Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            marginTop: 8,\n            alignItems: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: useMRP,\n              onChange: e => setUseMRP(e.target.checked),\n              style: {\n                margin: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this), \"Use MRP for billing (instead of DP)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: invoiceRef,\n          style: {\n            marginTop: 12,\n            padding: 12,\n            border: '1px solid #ddd',\n            borderRadius: 6,\n            background: '#fff'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Invoice, {\n            invoice: {\n              id: 'INV-' + new Date().getTime().toString().slice(-8),\n              date: new Date(invoiceDate).toISOString(),\n              customer: customer,\n              items: cart.map(c => ({\n                productId: c.productId,\n                name: c.name,\n                qty: c.qty,\n                price: useMRP ? c.mrp : c.price,\n                mrp: c.mrp,\n                bv: c.bv\n              }))\n            },\n            companyName: COMPANY_NAME,\n            companyEmail: COMPANY_EMAIL,\n            companyPhone: COMPANY_PHONE,\n            companyAddress: COMPANY_ADDRESS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 20,\n              display: 'flex',\n              justifyContent: 'flex-end',\n              alignItems: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 8,\n                  fontWeight: 800\n                },\n                children: [\"Balance: \\u20B9\", (subtotal() - Number(paid || 0)).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            display: 'flex',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnPrimary,\n            onClick: () => finalizeInvoice(true),\n            disabled: isFinalizing,\n            children: isFinalizing ? 'Finalizing...' : 'Finalize Invoice (Auto-save & PDF)'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btn,\n            onClick: () => {\n              setCart([]);\n            },\n            children: \"Clear Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnWarn,\n            onClick: () => {\n              if (!confirm('Clear all invoices?')) return;\n              setInvoices([]);\n              localStorage.removeItem('rk_invoices');\n            },\n            children: \"Clear Invoices\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            margin: '12px 0'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Invoices History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), invoices.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12,\n            padding: 12,\n            backgroundColor: '#f8f9fa',\n            borderRadius: 6,\n            border: '1px solid #e9ecef'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr 1fr',\n              gap: 12,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 18,\n                  fontWeight: 700,\n                  color: '#1e3a8a'\n                },\n                children: getInvoiceSummary().totalInvoices\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.small,\n                children: \"Total Invoices\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 18,\n                  fontWeight: 700,\n                  color: '#28a745'\n                },\n                children: [\"\\u20B9\", getInvoiceSummary().totalBalance.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.small,\n                children: \"Total Balance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 18,\n                  fontWeight: 700,\n                  color: '#dc3545'\n                },\n                children: getInvoiceSummary().totalProductsSold\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.small,\n                children: \"Products Sold\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8,\n              textAlign: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.btnPrimary,\n                marginRight: 8\n              },\n              onClick: exportAllInvoicesPDF,\n              disabled: isExportingBulk,\n              children: isExportingBulk ? 'Exporting...' : 'Export All PDFs (ZIP)'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxHeight: 160,\n            overflow: 'auto'\n          },\n          children: [invoices.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.muted,\n            children: \"No invoices yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 39\n          }, this), invoices.map(inv => {\n            var _inv$items2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: 8,\n                borderBottom: '1px solid #f0f0f0',\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: 700\n                  },\n                  children: inv.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.small,\n                  children: new Date(inv.date).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.small,\n                  children: [\"Items: \", ((_inv$items2 = inv.items) === null || _inv$items2 === void 0 ? void 0 : _inv$items2.reduce((sum, item) => sum + item.qty, 0)) || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'right'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Subtotal: \\u20B9\", Number(inv.subtotal).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.small,\n                  children: [\"Balance: \\u20B9\", Number(inv.balance).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    style: styles.btnSmall,\n                    onClick: () => viewInvoice(inv),\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      ...styles.btnSmall,\n                      marginLeft: 6\n                    },\n                    onClick: () => downloadInvoiceJSON(inv),\n                    children: \"JSON\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 17\n              }, this)]\n            }, inv.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), selectedInvoice && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      onClick: closeInvoiceViewer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modal,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: selectedInvoiceRef,\n          children: /*#__PURE__*/_jsxDEV(Invoice, {\n            invoice: selectedInvoice,\n            companyName: COMPANY_NAME,\n            companyEmail: COMPANY_EMAIL,\n            companyPhone: COMPANY_PHONE,\n            companyAddress: COMPANY_ADDRESS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btn,\n            onClick: () => downloadInvoiceJSON(selectedInvoice),\n            children: \"Download JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnPrimary,\n            onClick: () => downloadInvoicePDF(selectedInvoice),\n            children: \"Download PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnWarn,\n            onClick: () => closeInvoiceViewer(),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 9\n    }, this), testResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.testBox,\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Test results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: testResults.map((t, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            color: t.pass ? 'green' : 'crimson'\n          },\n          children: [t.test, \": \", t.pass ? 'PASS' : 'FAIL', \" \", t.error ? `(${t.error})` : '']\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      style: {\n        marginTop: 18,\n        textAlign: 'center',\n        color: '#666'\n      },\n      children: [COMPANY_NAME, \" \\u2014 Billing software\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 408,\n    columnNumber: 5\n  }, this);\n}\n_s(BillingApp, \"ghNAtEm5aZgAAArgl45sHE2UqIY=\");\n_c = BillingApp;\nconst styles = {\n  page: {\n    padding: 18,\n    fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial',\n    background: '#f6f8fa',\n    minHeight: '100vh'\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12\n  },\n  company: {\n    fontSize: 20,\n    fontWeight: 800,\n    letterSpacing: 0.4\n  },\n  subtitle: {\n    color: '#666',\n    marginTop: 4\n  },\n  grid: {\n    display: 'grid',\n    gridTemplateColumns: '360px 1fr',\n    gap: 16\n  },\n  card: {\n    background: '#fff',\n    padding: 12,\n    borderRadius: 8,\n    boxShadow: '0 1px 4px rgba(0,0,0,0.06)'\n  },\n  input: {\n    width: '100%',\n    padding: 8,\n    borderRadius: 6,\n    border: '1px solid #ddd'\n  },\n  inputSmall: {\n    padding: 8,\n    borderRadius: 6,\n    border: '1px solid #ddd',\n    minWidth: 140\n  },\n  btn: {\n    padding: '8px 10px',\n    borderRadius: 6,\n    border: '1px solid #ccc',\n    background: '#fff',\n    cursor: 'pointer'\n  },\n  btnAdd: {\n    padding: '8px 10px',\n    borderRadius: 6,\n    border: 'none',\n    background: '#2f9e44',\n    color: '#fff',\n    cursor: 'pointer'\n  },\n  btnPrimary: {\n    padding: '8px 12px',\n    borderRadius: 6,\n    border: 'none',\n    background: '#0b63c6',\n    color: '#fff',\n    cursor: 'pointer'\n  },\n  btnPrimarySmall: {\n    padding: '6px 8px',\n    borderRadius: 6,\n    border: 'none',\n    background: '#0b63c6',\n    color: '#fff',\n    cursor: 'pointer'\n  },\n  btnSmall: {\n    padding: '6px 8px',\n    borderRadius: 6,\n    border: '1px solid #ccc',\n    background: '#fff',\n    cursor: 'pointer'\n  },\n  btnWarn: {\n    padding: '8px 12px',\n    borderRadius: 6,\n    border: 'none',\n    background: '#d97706',\n    color: '#fff',\n    cursor: 'pointer'\n  },\n  muted: {\n    color: '#777'\n  },\n  small: {\n    color: '#666',\n    fontSize: 12\n  },\n  itemRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 8,\n    borderBottom: '1px solid #f0f0f0'\n  },\n  td: {\n    padding: 8,\n    textAlign: 'left',\n    borderRight: 'none'\n  },\n  modalOverlay: {\n    position: 'fixed',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    background: 'rgba(0,0,0,0.4)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1000\n  },\n  modal: {\n    background: '#fff',\n    padding: 16,\n    borderRadius: 8,\n    width: '90%',\n    maxWidth: 800,\n    maxHeight: '90%',\n    overflow: 'auto'\n  },\n  testBox: {\n    position: 'fixed',\n    right: 12,\n    bottom: 12,\n    background: '#fff',\n    padding: 12,\n    borderRadius: 8,\n    boxShadow: '0 2px 8px rgba(0,0,0,0.12)'\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"BillingApp\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Invoice","jsxDEV","_jsxDEV","BillingApp","_s","COMPANY_NAME","products","setProducts","categories","setCategories","formProd","setFormProd","name","category","mrp","bv","stock","cart","setCart","customer","setCustomer","address","phone","paid","setPaid","invoiceDate","setInvoiceDate","Date","toISOString","split","useMRP","setUseMRP","isFinalizing","setIsFinalizing","invoiceRef","invoices","setInvoices","selectedInvoice","setSelectedInvoice","selectedInvoiceRef","filterCategory","setFilterCategory","testResults","setTestResults","isExportingBulk","setIsExportingBulk","COMPANY_EMAIL","COMPANY_PHONE","COMPANY_ADDRESS","p","JSON","parse","localStorage","getItem","inv","cats","Array","from","Set","map","x","filter","Boolean","e","console","error","setItem","stringify","addProduct","preventDefault","trim","Number","parseInt","alert","isFinite","id","length","Math","max","price","round","next","updateStock","delta","prev","deleteProduct","confirm","c","productId","addToCart","find","_p$mrp","found","qty","changeQty","item","prod","removeFromCart","subtotal","reduce","s","i","finalizeInvoice","autoDownload","invNumber","getTime","toString","slice","invoice","date","items","balance","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","remove","revokeObjectURL","current","html2canvasModule","html2canvas","default","jspdfModule","jsPDF","canvas","scale","imgData","toDataURL","pdf","unit","format","imgProps","getImageProperties","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","min","width","height","renderWidth","renderHeight","y","addImage","save","err","exportBackup","blobP","urlP","now","blobI","urlI","b","getInvoiceSummary","totalBalance","sum","totalProductsSold","_inv$items","itemSum","totalInvoices","exportAllInvoicesPDF","JSZip","zip","tempDiv","style","position","left","top","createRoot","InvoiceComponent","root","render","companyName","companyEmail","companyPhone","companyAddress","Promise","resolve","setTimeout","pdfBlob","output","file","unmount","removeChild","zipBlob","generateAsync","viewInvoice","closeInvoiceViewer","downloadInvoiceJSON","downloadInvoicePDF","pureAddToCart","productsArr","cartArr","Error","newProducts","newCart","pureChangeQty","runTests","results","p0","c0","step1","push","test","pass","step2","message","step3","step4","String","styles","page","children","header","company","fileName","_jsxFileName","lineNumber","columnNumber","subtitle","textAlign","btnPrimary","onClick","btn","marginLeft","grid","card","onSubmit","display","gap","marginTop","placeholder","value","onChange","target","input","btnAdd","margin","marginBottom","inputSmall","flex","maxHeight","overflow","muted","_p$mrp2","_p$price","_p$bv","itemRow","fontWeight","small","toFixed","btnPrimarySmall","btnSmall","q","prompt","btnWarn","alignItems","color","justifyContent","checked","ref","padding","border","borderRadius","background","disabled","removeItem","backgroundColor","gridTemplateColumns","fontSize","marginRight","_inv$items2","borderBottom","toLocaleString","modalOverlay","modal","stopPropagation","testBox","t","_c","fontFamily","minHeight","letterSpacing","boxShadow","minWidth","cursor","td","borderRight","right","bottom","zIndex","maxWidth","$RefreshReg$"],"sources":["C:/Users/mk213/Downloads/billing-app/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Invoice from \"./Invoice\";\n\n// Billing App â€” fixed full JSX and working Invoice History viewer\n// Features included:\n// - Products with category, price and stock\n// - Add / Purchase / Delete product\n// - Create invoice from cart, finalize (autosave + auto-download JSON + auto-generate PDF)\n// - Invoices are stored in localStorage\n// - Invoice history with one-click View (modal) and per-invoice JSON/PDF download\n// - Small pure-function tests and a \"Run tests\" button\n\nexport default function BillingApp() {\n  const COMPANY_NAME = \"RKGROWOPAL MARKETINGS PVT. LTD.\";\n\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [formProd, setFormProd] = useState({ name: \"\", category: \"\", mrp: \"\", bv: \"\", stock: \"\" });\n\n  const [cart, setCart] = useState([]);\n  const [customer, setCustomer] = useState({ name: \"\", address: \"\", phone: \"\" });\n  const [paid, setPaid] = useState(0);\n  const [invoiceDate, setInvoiceDate] = useState(new Date().toISOString().split('T')[0]);\n  const [useMRP, setUseMRP] = useState(false);\n  const [isFinalizing, setIsFinalizing] = useState(false);\n  const invoiceRef = useRef(null);\n\n  const [invoices, setInvoices] = useState([]);\n  const [selectedInvoice, setSelectedInvoice] = useState(null);\n  const selectedInvoiceRef = useRef(null); // for PDF generation of selected invoice\n\n  const [filterCategory, setFilterCategory] = useState(\"\");\n  const [testResults, setTestResults] = useState([]);\n  const [isExportingBulk, setIsExportingBulk] = useState(false);\n\n  const COMPANY_EMAIL = \"info@yourcompany.com\";\n  const COMPANY_PHONE = \"+91 74287 11520\";\n  const COMPANY_ADDRESS = \"Block-B3,Near Punjab National Bank Road Mukund Vihar,Prakash Vihar,karawal Nagar,Delhi-11009, New Delhi, Delhi 110090\";\n\n  // Load persisted state\n  useEffect(() => {\n    try {\n      const p = JSON.parse(localStorage.getItem('rk_products') || '[]');\n      const inv = JSON.parse(localStorage.getItem('rk_invoices') || '[]');\n      setProducts(p);\n      setInvoices(inv);\n      const cats = Array.from(new Set(p.map(x => x.category).filter(Boolean)));\n      setCategories(cats);\n    } catch (e) { console.error('load error', e); }\n  }, []);\n\n  useEffect(() => {\n    try { localStorage.setItem('rk_products', JSON.stringify(products)); } catch (e) { console.error(e); }\n    const cats = Array.from(new Set(products.map(x => x.category).filter(Boolean)));\n    setCategories(cats);\n  }, [products]);\n\n  useEffect(() => {\n    try { localStorage.setItem('rk_invoices', JSON.stringify(invoices)); } catch (e) { console.error(e); }\n  }, [invoices]);\n\n  // Product management\n  function addProduct(e) {\n    if (e && e.preventDefault) e.preventDefault();\n    const name = (formProd.name || \"\").trim();\n    const category = (formProd.category || \"\").trim();\n    const mrp = Number(formProd.mrp);\n    const bv = Number(formProd.bv) || 0;\n    const stock = parseInt(formProd.stock) || 0;\n    if (!name) return alert('Enter product name');\n    if (!Number.isFinite(mrp) || mrp < 0) return alert('Enter valid MRP');\n    const id = products.length ? Math.max(...products.map(p => p.id)) + 1 : 1;\n    const price = Math.round(mrp * 0.9 * 100) / 100; // DP = 10% discount on MRP\n    const next = [...products, { id, name, category, mrp, bv, price, stock }];\n    setProducts(next);\n    setFormProd({ name: \"\", category: \"\", mrp: \"\", bv: \"\", stock: \"\" });\n  }\n\n  function updateStock(id, delta) {\n    setProducts(prev => prev.map(p => p.id === id ? { ...p, stock: Math.max(0, p.stock + delta) } : p));\n  }\n\n  function deleteProduct(id) {\n    if (!confirm('Delete product?')) return;\n    setProducts(prev => prev.filter(p => p.id !== id));\n    setCart(prev => prev.filter(c => c.productId !== id));\n  }\n\n  // Cart management\n  function addToCart(productId) {\n    const p = products.find(x => x.id === productId);\n    if (!p) return alert('Product not found');\n    if (p.stock <= 0) return alert('Out of stock');\n    updateStock(productId, -1);\n    setCart(prev => {\n      const found = prev.find(x => x.productId === productId);\n      if (found) return prev.map(x => x.productId === productId ? { ...x, qty: x.qty + 1 } : x);\n      const mrp = Number(p.mrp ?? ((p.price ? (Number(p.price) / 0.9) : 0)));\n      return [...prev, { productId, name: p.name, category: p.category, price: p.price, mrp, bv: p.bv || 0, qty: 1 }];\n    });\n  }\n\n  function changeQty(productId, qty) {\n    qty = Math.max(0, parseInt(qty) || 0);\n    const item = cart.find(c => c.productId === productId);\n    if (!item) return;\n    const delta = qty - item.qty;\n    if (delta > 0) {\n      const prod = products.find(p => p.id === productId);\n      if (!prod || prod.stock < delta) return alert('Not enough stock');\n      updateStock(productId, -delta);\n    } else if (delta < 0) {\n      updateStock(productId, -delta);\n    }\n    setCart(prev => prev.map(c => c.productId === productId ? { ...c, qty } : c));\n  }\n\n  function removeFromCart(productId) {\n    const item = cart.find(c => c.productId === productId);\n    if (!item) return;\n    updateStock(productId, item.qty);\n    setCart(prev => prev.filter(c => c.productId !== productId));\n  }\n\n  function subtotal(c = cart) {\n    return c.reduce((s, i) => s + (i.qty * (useMRP ? i.mrp : i.price)), 0);\n  }\n\n  // Finalize invoice\n  async function finalizeInvoice(autoDownload = true) {\n    if (isFinalizing) return; // Prevent multiple submissions\n    if (cart.length === 0) return alert('Cart is empty');\n    \n    setIsFinalizing(true);\n    const invNumber = 'INV-' + new Date().getTime().toString().slice(-8);\n    const invoice = {\n      id: invNumber,\n      date: new Date(invoiceDate).toISOString(),\n      customer: { ...customer },\n      items: cart.map(c => ({ productId: c.productId, name: c.name, qty: c.qty, price: c.price })),\n      subtotal: subtotal(),\n      paid: Number(paid || 0),\n      balance: subtotal() - Number(paid || 0)\n    };\n\n    setInvoices(prev => [invoice, ...prev]);\n\n    // Auto-download JSON\n    try {\n      if (autoDownload) {\n        const blob = new Blob([JSON.stringify(invoice, null, 2)], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `${invoice.id}.json`;\n        document.body.appendChild(a);\n        a.click();\n        a.remove();\n        URL.revokeObjectURL(url);\n      }\n    } catch (e) { console.error('JSON download failed', e); }\n\n    // Generate PDF of invoice preview area (invoiceRef)\n    try {\n      if (invoiceRef.current) {\n        const html2canvasModule = await import('html2canvas');\n        const html2canvas = html2canvasModule && (html2canvasModule.default || html2canvasModule);\n        const jspdfModule = await import('jspdf');\n        const jsPDF = jspdfModule && (jspdfModule.jsPDF || jspdfModule.default || jspdfModule);\n        if (html2canvas && jsPDF) {\n          const canvas = await html2canvas(invoiceRef.current, { scale: 2 });\n          const imgData = canvas.toDataURL('image/png');\n          const pdf = new jsPDF({ unit: 'pt', format: 'a4' });\n          const imgProps = pdf.getImageProperties(imgData);\n          const pageWidth = pdf.internal.pageSize.getWidth();\n          const pageHeight = pdf.internal.pageSize.getHeight();\n          const scale = Math.min(pageWidth / imgProps.width, pageHeight / imgProps.height);\n          const renderWidth = imgProps.width * scale;\n          const renderHeight = imgProps.height * scale;\n          const x = (pageWidth - renderWidth) / 2;\n          const y = (pageHeight - renderHeight) / 2;\n          pdf.addImage(imgData, 'PNG', x, y, renderWidth, renderHeight);\n          pdf.save(`${invoice.id}.pdf`);\n        }\n      }\n    } catch (err) { console.error('PDF generation error', err); }\n\n    // Clear current cart and customer\n    setCart([]);\n    setCustomer({ name: '', address: '', phone: '' });\n    setPaid(0);\n    setInvoiceDate(new Date().toISOString().split('T')[0]);\n    setIsFinalizing(false);\n\n    alert('Invoice finalized and saved.');\n  }\n\n  function exportBackup() {\n    try {\n      const blobP = new Blob([JSON.stringify(products, null, 2)], { type: 'application/json' });\n      const urlP = URL.createObjectURL(blobP);\n      const a = document.createElement('a'); a.href = urlP; a.download = `products_${Date.now()}.json`; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(urlP);\n\n      const blobI = new Blob([JSON.stringify(invoices, null, 2)], { type: 'application/json' });\n      const urlI = URL.createObjectURL(blobI);\n      const b = document.createElement('a'); b.href = urlI; b.download = `invoices_${Date.now()}.json`; document.body.appendChild(b); b.click(); b.remove(); URL.revokeObjectURL(urlI);\n    } catch (e) { console.error(e); }\n  }\n\n  // Calculate summary statistics\n  function getInvoiceSummary() {\n    const totalBalance = invoices.reduce((sum, inv) => sum + (inv.balance || 0), 0);\n    const totalProductsSold = invoices.reduce((sum, inv) => \n      sum + (inv.items?.reduce((itemSum, item) => itemSum + item.qty, 0) || 0), 0\n    );\n    const totalInvoices = invoices.length;\n    return { totalBalance, totalProductsSold, totalInvoices };\n  }\n\n  // Bulk PDF export function\n  async function exportAllInvoicesPDF() {\n    if (invoices.length === 0) return alert('No invoices to export');\n    if (isExportingBulk) return;\n    \n    setIsExportingBulk(true);\n    try {\n      const JSZip = (await import('jszip')).default;\n      const zip = new JSZip();\n      \n      for (let i = 0; i < invoices.length; i++) {\n        const invoice = invoices[i];\n        // Create a temporary div for PDF generation\n        const tempDiv = document.createElement('div');\n        tempDiv.style.position = 'absolute';\n        tempDiv.style.left = '-9999px';\n        tempDiv.style.top = '-9999px';\n        document.body.appendChild(tempDiv);\n        \n        // Render invoice in temp div\n        const { createElement } = await import('react');\n        const { createRoot } = await import('react-dom/client');\n        const InvoiceComponent = (await import('./Invoice')).default;\n        \n        const root = createRoot(tempDiv);\n        root.render(createElement(InvoiceComponent, {\n          invoice: invoice,\n          companyName: COMPANY_NAME,\n          companyEmail: COMPANY_EMAIL,\n          companyPhone: COMPANY_PHONE,\n          companyAddress: COMPANY_ADDRESS\n        }));\n        \n        // Wait for render\n        await new Promise(resolve => setTimeout(resolve, 100));\n        \n        // Generate PDF\n        const html2canvasModule = await import('html2canvas');\n        const html2canvas = html2canvasModule && (html2canvasModule.default || html2canvasModule);\n        const jspdfModule = await import('jspdf');\n        const jsPDF = jspdfModule && (jspdfModule.jsPDF || jspdfModule.default || jspdfModule);\n        \n        if (html2canvas && jsPDF) {\n          const canvas = await html2canvas(tempDiv, { scale: 2 });\n          const imgData = canvas.toDataURL('image/png');\n          const pdf = new jsPDF({ unit: 'pt', format: 'a4' });\n          const imgProps = pdf.getImageProperties(imgData);\n          const pageWidth = pdf.internal.pageSize.getWidth();\n          const pageHeight = pdf.internal.pageSize.getHeight();\n          const scale = Math.min(pageWidth / imgProps.width, pageHeight / imgProps.height);\n          const renderWidth = imgProps.width * scale;\n          const renderHeight = imgProps.height * scale;\n          const x = (pageWidth - renderWidth) / 2;\n          const y = (pageHeight - renderHeight) / 2;\n          pdf.addImage(imgData, 'PNG', x, y, renderWidth, renderHeight);\n          \n          // Add PDF to zip\n          const pdfBlob = pdf.output('blob');\n          zip.file(`${invoice.id}.pdf`, pdfBlob);\n        }\n        \n        // Cleanup\n        root.unmount();\n        document.body.removeChild(tempDiv);\n      }\n      \n      // Generate and download zip\n      const zipBlob = await zip.generateAsync({ type: 'blob' });\n      const url = URL.createObjectURL(zipBlob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `all_invoices_${Date.now()}.zip`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n      \n      alert('All invoices exported as ZIP file!');\n    } catch (err) {\n      console.error('Bulk export error:', err);\n      alert('Error exporting invoices. Please try again.');\n    } finally {\n      setIsExportingBulk(false);\n    }\n  }\n\n  // View invoice (single-click)\n  function viewInvoice(inv) {\n    setSelectedInvoice(inv);\n    // wait for modal to render then we can generate PDF if user requests\n  }\n\n  function closeInvoiceViewer() {\n\n    setSelectedInvoice(null);\n  }\n\n  async function downloadInvoiceJSON(inv) {\n    try {\n      const blob = new Blob([JSON.stringify(inv, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a'); a.href = url; a.download = `${inv.id}.json`; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);\n    } catch (e) { console.error(e); }\n  }\n\n  async function downloadInvoicePDF(inv) {\n    // Render selected invoice details inside a hidden ref (selectedInvoiceRef) and generate PDF\n    if (!selectedInvoiceRef.current) {\n      // If the viewer isn't open, open it first and then the user can click download inside the viewer.\n      alert('Please open the invoice viewer and then click \"Download PDF\" inside it.');\n      return;\n    }\n    try {\n      const html2canvasModule = await import('html2canvas');\n      const html2canvas = html2canvasModule && (html2canvasModule.default || html2canvasModule);\n      const jspdfModule = await import('jspdf');\n      const jsPDF = jspdfModule && (jspdfModule.jsPDF || jspdfModule.default || jspdfModule);\n      if (html2canvas && jsPDF) {\n        const canvas = await html2canvas(selectedInvoiceRef.current, { scale: 2 });\n        const imgData = canvas.toDataURL('image/png');\n        const pdf = new jsPDF({ unit: 'pt', format: 'a4' });\n        const imgProps = pdf.getImageProperties(imgData);\n        const pageWidth = pdf.internal.pageSize.getWidth();\n        const pageHeight = pdf.internal.pageSize.getHeight();\n        const scale = Math.min(pageWidth / imgProps.width, pageHeight / imgProps.height);\n        const renderWidth = imgProps.width * scale;\n        const renderHeight = imgProps.height * scale;\n        const x = (pageWidth - renderWidth) / 2;\n        const y = (pageHeight - renderHeight) / 2;\n        pdf.addImage(imgData, 'PNG', x, y, renderWidth, renderHeight);\n        pdf.save(`${inv.id}.pdf`);\n      }\n    } catch (err) { console.error('PDF generation error', err); }\n  }\n\n  // --- Pure helper functions for tests ---\n  function pureAddToCart(productsArr, cartArr, productId) {\n    const p = productsArr.find(x => x.id === productId); \n    if (!p) throw new Error('product-not-found');\n    if (p.stock <= 0) throw new Error('out-of-stock');\n    const newProducts = productsArr.map(x => x.id === productId ? { ...x, stock: x.stock - 1 } : x);\n    const found = cartArr.find(c => c.productId === productId);\n    const newCart = found ? cartArr.map(c => c.productId === productId ? { ...c, qty: c.qty + 1 } : c) : [...cartArr, { productId, name: p.name, price: p.price, qty: 1 }];\n    return { products: newProducts, cart: newCart };\n  }\n\n  function pureChangeQty(productsArr, cartArr, productId, qty) {\n    qty = Math.max(0, parseInt(qty) || 0);\n    const item = cartArr.find(c => c.productId === productId);\n    if (!item) throw new Error('item-not-in-cart');\n    const delta = qty - item.qty;\n    if (delta > 0) {\n      const prod = productsArr.find(p => p.id === productId);\n      if (!prod || prod.stock < delta) throw new Error('not-enough-stock');\n      const newProducts = productsArr.map(p => p.id === productId ? { ...p, stock: p.stock - delta } : p);\n      const newCart = cartArr.map(c => c.productId === productId ? { ...c, qty } : c);\n      return { products: newProducts, cart: newCart };\n    } else if (delta < 0) {\n      const newProducts = productsArr.map(p => p.id === productId ? { ...p, stock: p.stock + (-delta) } : p);\n      const newCart = cartArr.map(c => c.productId === productId ? { ...c, qty } : c);\n      return { products: newProducts, cart: newCart };\n    }\n    return { products: productsArr, cart: cartArr };\n  }\n\n  function runTests() {\n    const results = [];\n    try {\n      const p0 = [{ id: 1, name: 'X', price: 100, stock: 2 }];\n      const c0 = [];\n      const step1 = pureAddToCart(p0, c0, 1);\n      results.push({ test: 'add once', pass: step1.products[0].stock === 1 && step1.cart.length === 1 && step1.cart[0].qty === 1 });\n      const step2 = pureAddToCart(step1.products, step1.cart, 1);\n      results.push({ test: 'add twice', pass: step2.products[0].stock === 0 && step2.cart[0].qty === 2 });\n      try {\n        pureAddToCart(step2.products, step2.cart, 1);\n        results.push({ test: 'add third time should fail', pass: false });\n      } catch (err) { results.push({ test: 'add third time should fail', pass: err.message === 'out-of-stock' }); }\n      const step3 = pureChangeQty(step2.products, step2.cart, 1, 1);\n      results.push({ test: 'change qty down', pass: step3.products[0].stock === 1 && step3.cart[0].qty === 1 });\n      const step4 = pureChangeQty(step3.products, step3.cart, 1, 2);\n      results.push({ test: 'change qty up', pass: step4.products[0].stock === 0 && step4.cart[0].qty === 2 });\n    } catch (err) { results.push({ test: 'unexpected error', pass: false, error: String(err) }); }\n    setTestResults(results);\n  }\n\n  // --- Render UI ---\n  return (\n    <div style={styles.page}>\n      <header style={styles.header}>\n        <div>\n          <h1 style={styles.company}>{COMPANY_NAME}</h1>\n          <div style={styles.subtitle}>Billing Â· Inventory Â· Categories Â· Auto-PDF Â· Auto-Save</div>\n        </div>\n        <div style={{ textAlign: 'right' }}>\n          <button style={styles.btnPrimary} onClick={() => exportBackup()}>Export Backup</button>\n          <button style={{ ...styles.btn, marginLeft: 8 }} onClick={() => runTests()}>Run tests</button>\n        </div>\n      </header>\n\n      <main style={styles.grid}>\n        <section style={styles.card}>\n          <h3>Products</h3>\n          <form onSubmit={addProduct} style={{ display: 'grid', gap: 8, marginTop: 8 }}>\n            <input placeholder=\"Name\" value={formProd.name} onChange={e => setFormProd(s => ({ ...s, name: e.target.value }))} style={styles.input} />\n            <input placeholder=\"Category\" value={formProd.category} onChange={e => setFormProd(s => ({ ...s, category: e.target.value }))} style={styles.input} />\n            <input placeholder=\"MRP\" value={formProd.mrp} onChange={e => setFormProd(s => ({ ...s, mrp: e.target.value }))} style={styles.input} />\n            <input placeholder=\"BV\" value={formProd.bv} onChange={e => setFormProd(s => ({ ...s, bv: e.target.value }))} style={styles.input} />\n            <input placeholder=\"Stock\" value={formProd.stock} onChange={e => setFormProd(s => ({ ...s, stock: e.target.value }))} style={styles.input} />\n            <div style={{ display: 'flex', gap: 8 }}>\n              <button type=\"submit\" style={styles.btnAdd}>Add Product</button>\n              <button type=\"button\" style={styles.btn} onClick={() => setProducts([])}>Clear All Products</button>\n            </div>\n          </form>\n\n          <hr style={{ margin: '12px 0' }} />\n\n          <div style={{ display: 'flex', gap: 8, marginBottom: 8 }}>\n            <select value={filterCategory} onChange={e => setFilterCategory(e.target.value)} style={styles.inputSmall}>\n              <option value=\"\">All categories</option>\n              {categories.map(c => <option key={c} value={c}>{c}</option>)}\n            </select>\n            <input placeholder=\"Search\" style={{ ...styles.inputSmall, flex: 1 }} />\n          </div>\n\n          <div style={{ maxHeight: 320, overflow: 'auto' }}>\n            {products.length === 0 && <div style={styles.muted}>No products</div>}\n            {products.filter(p => !filterCategory || p.category === filterCategory).map(p => (\n              <div key={p.id} style={styles.itemRow}>\n                <div>\n                  <div style={{ fontWeight: 700 }}>{p.name}</div>\n                  <div style={styles.small}>\n                    {p.category} Â· MRP: â‚¹{Number(p.mrp ?? (p.price ? (Number(p.price) / 0.9) : 0)).toFixed(2)} Â· DP: â‚¹{Number(p.price ?? 0).toFixed(2)} Â· BV: {Number(p.bv ?? 0)} Â· Stock: {p.stock}\n                  </div>\n                </div>\n                <div style={{ display: 'flex', gap: 6 }}>\n                  <button style={styles.btnPrimarySmall} onClick={() => addToCart(p.id)}>Add to Invoice</button>\n                  <button style={styles.btnSmall} onClick={() => { const q = parseInt(prompt('Purchase qty', '1') || '0'); if (q>0) updateStock(p.id, q); }}>Purchase+</button>\n                  <button style={styles.btnWarn} onClick={() => deleteProduct(p.id)}>Delete</button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </section>\n\n        <section style={{ ...styles.card, flex: 1 }}>\n          <h3>Create Invoice</h3>\n          <div style={{ display: 'flex', gap: 8, marginTop: 8 }}>\n            <input placeholder=\"Customer name\" value={customer.name} onChange={e => setCustomer(s => ({ ...s, name: e.target.value }))} style={styles.input} />\n            <input placeholder=\"Customer phone\" value={customer.phone} onChange={e => setCustomer(s => ({ ...s, phone: e.target.value }))} style={styles.input} />\n            <input placeholder=\"Customer address\" value={customer.address} onChange={e => setCustomer(s => ({ ...s, address: e.target.value }))} style={styles.input} />\n          </div>\n          \n          <div style={{ display: 'flex', gap: 8, marginTop: 8 }}>\n            <input type=\"date\" value={invoiceDate} onChange={e => setInvoiceDate(e.target.value)} style={{ ...styles.input, width: '200px', flex: 'none' }} />\n            <div style={{ ...styles.input, display: 'flex', alignItems: 'center', color: '#666', flex: 1, justifyContent: 'center' }}>\n              Invoice Date\n            </div>\n          </div>\n\n          <div style={{ display: 'flex', gap: 8, marginTop: 8, alignItems: 'center' }}>\n            <label style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\n              <input \n                type=\"checkbox\" \n                checked={useMRP} \n                onChange={e => setUseMRP(e.target.checked)}\n                style={{ margin: 0 }}\n              />\n              Use MRP for billing (instead of DP)\n            </label>\n          </div>\n\n          <div ref={invoiceRef} style={{ marginTop: 12, padding: 12, border: '1px solid #ddd', borderRadius: 6, background: '#fff' }}>\n            <Invoice \n              invoice={{\n                id: 'INV-' + new Date().getTime().toString().slice(-8),\n                date: new Date(invoiceDate).toISOString(),\n                customer: customer,\n                items: cart.map(c => ({ \n                  productId: c.productId, \n                  name: c.name, \n                  qty: c.qty, \n                  price: useMRP ? c.mrp : c.price, \n                  mrp: c.mrp, \n                  bv: c.bv \n                }))\n              }}\n              companyName={COMPANY_NAME}\n              companyEmail={COMPANY_EMAIL}\n              companyPhone={COMPANY_PHONE}\n              companyAddress={COMPANY_ADDRESS}\n            />\n            \n            <div style={{ marginTop: 20, display: 'flex', justifyContent: 'flex-end', alignItems: 'center' }}>\n              <div style={{ textAlign: 'right' }}>\n                <div style={{ marginTop: 8, fontWeight: 800 }}>Balance: â‚¹{(subtotal() - Number(paid || 0)).toFixed(2)}</div>\n              </div>\n            </div>\n          </div>\n\n          <div style={{ marginTop: 12, display: 'flex', gap: 8 }}>\n            <button \n              style={styles.btnPrimary} \n              onClick={() => finalizeInvoice(true)}\n              disabled={isFinalizing}\n            >\n              {isFinalizing ? 'Finalizing...' : 'Finalize Invoice (Auto-save & PDF)'}\n            </button>\n            <button style={styles.btn} onClick={() => { setCart([]); }}>Clear Cart</button>\n            <button style={styles.btnWarn} onClick={() => { if (!confirm('Clear all invoices?')) return; setInvoices([]); localStorage.removeItem('rk_invoices'); }}>Clear Invoices</button>\n          </div>\n\n          <hr style={{ margin: '12px 0' }} />\n\n          <h4>Invoices History</h4>\n          \n          {/* Summary Statistics */}\n          {invoices.length > 0 && (\n            <div style={{ marginBottom: 12, padding: 12, backgroundColor: '#f8f9fa', borderRadius: 6, border: '1px solid #e9ecef' }}>\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: 12, textAlign: 'center' }}>\n                <div>\n                  <div style={{ fontSize: 18, fontWeight: 700, color: '#1e3a8a' }}>{getInvoiceSummary().totalInvoices}</div>\n                  <div style={styles.small}>Total Invoices</div>\n                </div>\n                <div>\n                  <div style={{ fontSize: 18, fontWeight: 700, color: '#28a745' }}>â‚¹{getInvoiceSummary().totalBalance.toFixed(2)}</div>\n                  <div style={styles.small}>Total Balance</div>\n                </div>\n                <div>\n                  <div style={{ fontSize: 18, fontWeight: 700, color: '#dc3545' }}>{getInvoiceSummary().totalProductsSold}</div>\n                  <div style={styles.small}>Products Sold</div>\n                </div>\n              </div>\n              <div style={{ marginTop: 8, textAlign: 'center' }}>\n                <button \n                  style={{ ...styles.btnPrimary, marginRight: 8 }} \n                  onClick={exportAllInvoicesPDF}\n                  disabled={isExportingBulk}\n                >\n                  {isExportingBulk ? 'Exporting...' : 'Export All PDFs (ZIP)'}\n                </button>\n              </div>\n            </div>\n          )}\n\n          <div style={{ maxHeight: 160, overflow: 'auto' }}>\n            {invoices.length === 0 && <div style={styles.muted}>No invoices yet</div>}\n            {invoices.map(inv => (\n              <div key={inv.id} style={{ padding: 8, borderBottom: '1px solid #f0f0f0', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <div>\n                  <div style={{ fontWeight: 700 }}>{inv.id}</div>\n                  <div style={styles.small}>{new Date(inv.date).toLocaleString()}</div>\n                  <div style={styles.small}>Items: {inv.items?.reduce((sum, item) => sum + item.qty, 0) || 0}</div>\n                </div>\n                <div style={{ textAlign: 'right' }}>\n                  <div>Subtotal: â‚¹{Number(inv.subtotal).toFixed(2)}</div>\n                  <div style={styles.small}>Balance: â‚¹{Number(inv.balance).toFixed(2)}</div>\n                  <div style={{ marginTop: 6 }}>\n                    <button style={styles.btnSmall} onClick={() => viewInvoice(inv)}>View</button>\n                    <button style={{ ...styles.btnSmall, marginLeft: 6 }} onClick={() => downloadInvoiceJSON(inv)}>JSON</button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n        </section>\n      </main>\n\n      {/* Invoice Viewer Modal */}\n      {selectedInvoice && (\n        <div style={styles.modalOverlay} onClick={closeInvoiceViewer}>\n          <div style={styles.modal} onClick={e => e.stopPropagation()}>\n            <div ref={selectedInvoiceRef}>\n              <Invoice \n                invoice={selectedInvoice}\n                companyName={COMPANY_NAME}\n                companyEmail={COMPANY_EMAIL}\n                companyPhone={COMPANY_PHONE}\n                companyAddress={COMPANY_ADDRESS}\n              />\n            </div>\n\n            <div style={{ marginTop: 12, display: 'flex', justifyContent: 'flex-end', gap: 8 }}>\n              <button style={styles.btn} onClick={() => downloadInvoiceJSON(selectedInvoice)}>Download JSON</button>\n              <button style={styles.btnPrimary} onClick={() => downloadInvoicePDF(selectedInvoice)}>Download PDF</button>\n              <button style={styles.btnWarn} onClick={() => closeInvoiceViewer()}>Close</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Test results display */}\n      {testResults.length > 0 && (\n        <div style={styles.testBox}>\n          <strong>Test results:</strong>\n          <ul>\n            {testResults.map((t, i) => (\n              <li key={i} style={{ color: t.pass ? 'green' : 'crimson' }}>{t.test}: {t.pass ? 'PASS' : 'FAIL'} {t.error ? `(${t.error})` : ''}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      <footer style={{ marginTop: 18, textAlign: 'center', color: '#666' }}>{COMPANY_NAME} â€” Billing software</footer>\n    </div>\n  );\n}\n\nconst styles = {\n  page: { padding: 18, fontFamily: 'system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial', background: '#f6f8fa', minHeight: '100vh' },\n  header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 12 },\n  company: { fontSize: 20, fontWeight: 800, letterSpacing: 0.4 },\n  subtitle: { color: '#666', marginTop: 4 },\n  grid: { display: 'grid', gridTemplateColumns: '360px 1fr', gap: 16 },\n  card: { background: '#fff', padding: 12, borderRadius: 8, boxShadow: '0 1px 4px rgba(0,0,0,0.06)' },\n  input: { width: '100%', padding: 8, borderRadius: 6, border: '1px solid #ddd' },\n  inputSmall: { padding: 8, borderRadius: 6, border: '1px solid #ddd', minWidth: 140 },\n  btn: { padding: '8px 10px', borderRadius: 6, border: '1px solid #ccc', background: '#fff', cursor: 'pointer' },\n  btnAdd: { padding: '8px 10px', borderRadius: 6, border: 'none', background: '#2f9e44', color: '#fff', cursor: 'pointer' },\n  btnPrimary: { padding: '8px 12px', borderRadius: 6, border: 'none', background: '#0b63c6', color: '#fff', cursor: 'pointer' },\n  btnPrimarySmall: { padding: '6px 8px', borderRadius: 6, border: 'none', background: '#0b63c6', color: '#fff', cursor: 'pointer' },\n  btnSmall: { padding: '6px 8px', borderRadius: 6, border: '1px solid #ccc', background: '#fff', cursor: 'pointer' },\n  btnWarn: { padding: '8px 12px', borderRadius: 6, border: 'none', background: '#d97706', color: '#fff', cursor: 'pointer' },\n  muted: { color: '#777' },\n  small: { color: '#666', fontSize: 12 },\n  itemRow: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: 8, borderBottom: '1px solid #f0f0f0' },\n  td: { padding: 8, textAlign: 'left', borderRight: 'none' },\n  modalOverlay: { position: 'fixed', left: 0, top: 0, right: 0, bottom: 0, background: 'rgba(0,0,0,0.4)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000 },\n  modal: { background: '#fff', padding: 16, borderRadius: 8, width: '90%', maxWidth: 800, maxHeight: '90%', overflow: 'auto' },\n  testBox: { position: 'fixed', right: 12, bottom: 12, background: '#fff', padding: 12, borderRadius: 8, boxShadow: '0 2px 8px rgba(0,0,0,0.12)' }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}